{"is_source_file": true, "format": "TypeScript", "description": "This file defines a WebSocket client class that manages WebSocket connections, supports a mock mode for testing, and allows event subscription and message sending.", "external_files": [], "external_methods": ["WebSocket"], "published": ["WSClient"], "classes": [{"name": "WSClient", "description": "A lightweight WebSocket client that supports real and mock modes, handles connection events, message sending, and reception."}], "methods": [{"name": "connect", "description": "Establishes a WebSocket connection or mock connection, sets up event handlers for open, message, close, and error events."}, {"name": "on", "description": "Allows subscription to WebSocket events ('open', 'message', 'close', 'error') with callback functions."}, {"name": "send", "description": "Sends data over the WebSocket; in mock mode, echoes the payload after a delay."}, {"name": "close", "description": "Closes the WebSocket connection or emits a 'close' event in mock mode."}], "calls": ["setTimeout", "JSON.parse", "JSON.stringify", "this.emit"], "search-terms": ["WebSocket client", "mock mode", "connection handling", "event subscription", "TypeScript WebSocket"], "state": 2, "file_id": 22, "knowledge_revision": 107, "git_revision": "4814c9ac807f10d4feee5462c59dc78434284bd9", "revision_history": [{"47": ""}, {"86": ""}, {"100": "5a657d512e631e8d95d49daab3dc818b8a28475c"}, {"104": "5a657d512e631e8d95d49daab3dc818b8a28475c"}, {"105": "5a657d512e631e8d95d49daab3dc818b8a28475c"}, {"106": "5a657d512e631e8d95d49daab3dc818b8a28475c"}, {"107": "4814c9ac807f10d4feee5462c59dc78434284bd9"}], "ctags": [{"_type": "tag", "name": "Listener", "path": "/home/kavia/workspace/code-generation/online-assessment-and-interview-platform-1024-1034/online_test_frontend/src/api/ws.ts", "pattern": "/^type Listener = (data: MessageData) => void$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "MessageData", "path": "/home/kavia/workspace/code-generation/online-assessment-and-interview-platform-1024-1034/online_test_frontend/src/api/ws.ts", "pattern": "/^type MessageData = unknown$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "WSClient", "path": "/home/kavia/workspace/code-generation/online-assessment-and-interview-platform-1024-1034/online_test_frontend/src/api/ws.ts", "pattern": "/^export class WSClient {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/online-assessment-and-interview-platform-1024-1034/online_test_frontend/src/api/ws.ts", "pattern": "/^          const data = JSON.parse(String(ev.data)) as MessageData$/", "language": "TypeScript", "kind": "constant"}], "hash": "e683412d68725267dd1714a9842de3b1", "format-version": 4, "code-base-name": "online_test_frontend", "filename": "online_test_frontend/src/api/ws.ts"}