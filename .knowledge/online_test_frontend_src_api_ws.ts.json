{"is_source_file": true, "format": "TypeScript", "description": "This file defines a WebSocket client class, 'WSClient', providing methods to connect, send, receive, and close a WebSocket connection, with a mock mode for testing.", "external_files": ["WebSocket"], "external_methods": ["JSON.parse", "setTimeout"], "published": ["WSClient"], "classes": [{"name": "WSClient", "description": "A lightweight WebSocket client supporting real and mock modes."}], "methods": [{"name": "constructor", "description": "Initializes the WebSocket client with URL and mock mode flag."}, {"name": "connect", "description": "Establishes WebSocket connection and sets up event handlers, or mocks the connection if in mock mode."}, {"name": "on", "description": "Subscribes to WebSocket events ('open', 'message', 'close', 'error')."}, {"name": "send", "description": "Sends data to the WebSocket server; in mock mode, echoes the message."}, {"name": "close", "description": "Closes the WebSocket connection or emits close event if in mock mode."}, {"name": "emit", "description": "Internal method to invoke all listeners for a specific event."}], "calls": ["WebSocket", "JSON.parse", "setTimeout"], "search-terms": ["ws client class", "mock websocket mode", "WebSocket event handling", "TypeScript WebSocket"], "state": 2, "file_id": 22, "knowledge_revision": 109, "git_revision": "4814c9ac807f10d4feee5462c59dc78434284bd9", "revision_history": [{"47": ""}, {"86": ""}, {"100": "5a657d512e631e8d95d49daab3dc818b8a28475c"}, {"104": "5a657d512e631e8d95d49daab3dc818b8a28475c"}, {"105": "5a657d512e631e8d95d49daab3dc818b8a28475c"}, {"106": "5a657d512e631e8d95d49daab3dc818b8a28475c"}, {"107": "4814c9ac807f10d4feee5462c59dc78434284bd9"}, {"109": "4814c9ac807f10d4feee5462c59dc78434284bd9"}], "ctags": [{"_type": "tag", "name": "Listener", "path": "/home/kavia/workspace/code-generation/online-assessment-and-interview-platform-1024-1034/online_test_frontend/src/api/ws.ts", "pattern": "/^type Listener = (data: MessageData) => void$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "MessageData", "path": "/home/kavia/workspace/code-generation/online-assessment-and-interview-platform-1024-1034/online_test_frontend/src/api/ws.ts", "pattern": "/^type MessageData = unknown$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "WSClient", "path": "/home/kavia/workspace/code-generation/online-assessment-and-interview-platform-1024-1034/online_test_frontend/src/api/ws.ts", "pattern": "/^export class WSClient {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/online-assessment-and-interview-platform-1024-1034/online_test_frontend/src/api/ws.ts", "pattern": "/^          const data = JSON.parse(String(ev.data)) as MessageData$/", "language": "TypeScript", "kind": "constant"}], "hash": "fdec6dbce125f51041ca6004f770de90", "format-version": 4, "code-base-name": "online_test_frontend", "filename": "online_test_frontend/src/api/ws.ts"}