{"is_source_file": true, "format": "TypeScript", "description": "This source file defines a WebSocket client class 'WSClient' that manages websocket connections, event handling, message sending and receiving, and supports mock mode for testing purposes.", "external_files": ["WebSocket (browser API)"], "external_methods": ["WebSocket.prototype.send", "WebSocket.prototype.close"], "published": ["WSClient"], "classes": [{"name": "WSClient", "description": "A class managing WebSocket connection lifecycle, message routing, and event subscription."}], "methods": [{"name": "constructor", "description": "Initializes the WebSocket client with a URL and optional mock mode."}, {"name": "connect", "description": "Establishes the websocket connection and sets up event handlers; supports mock behavior."}, {"name": "on", "description": "Allows subscribing to websocket events ('open', 'message', 'close', 'error')."}, {"name": "send", "description": "Sends data over the websocket, serializing it as JSON; supports mock mode."}, {"name": "close", "description": "Closes the websocket connection."}, {"name": "emit", "description": "Internal method to trigger event listeners with provided data."}], "calls": ["JSON.parse", "setTimeout", "this.emit", "this.ws?.send", "this.ws?.close"], "search-terms": ["WebSocket connection management", "TypeScript websocket client", "Mock websocket support", "event handling in WebSocket"], "state": 2, "file_id": 22, "knowledge_revision": 86, "git_revision": "", "revision_history": [{"47": ""}, {"86": ""}], "ctags": [{"_type": "tag", "name": "Listener", "path": "/home/kavia/workspace/code-generation/online-assessment-and-interview-platform-1024-1034/online_test_frontend/src/api/ws.ts", "pattern": "/^type Listener = (data: MessageData) => void$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "MessageData", "path": "/home/kavia/workspace/code-generation/online-assessment-and-interview-platform-1024-1034/online_test_frontend/src/api/ws.ts", "pattern": "/^type MessageData = unknown$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "WSClient", "path": "/home/kavia/workspace/code-generation/online-assessment-and-interview-platform-1024-1034/online_test_frontend/src/api/ws.ts", "pattern": "/^export class WSClient {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/online-assessment-and-interview-platform-1024-1034/online_test_frontend/src/api/ws.ts", "pattern": "/^        const data = JSON.parse(String(ev.data)) as MessageData$/", "language": "TypeScript", "kind": "constant"}], "hash": "0d0340c88a38d6f5325d97ca38b1354f", "format-version": 4, "code-base-name": "online_test_frontend", "filename": "online_test_frontend/src/api/ws.ts"}