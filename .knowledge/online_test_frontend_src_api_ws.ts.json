{"is_source_file": true, "format": "TypeScript", "description": "This file defines a lightweight WebSocket client class (WSClient) with support for mock mode, handling connection, messaging, and events.", "external_files": ["websocket"], "external_methods": ["WebSocket (constructor)", "JSON.parse", "setTimeout"], "published": ["WSClient"], "classes": [{"name": "WSClient", "description": "A class that manages WebSocket connections with optional mock mode for testing or fallback.", "methods": [{"name": "constructor", "description": "Initializes the WebSocket client with a URL and mock mode flag."}, {"name": "connect", "description": "Establishes connection to WebSocket server or activates mock mode."}, {"name": "on", "description": "Subscribes a listener function to specific WebSocket events."}, {"name": "send", "description": "Sends data to the WebSocket server, or loops back in mock mode."}, {"name": "close", "description": "Closes the WebSocket connection or triggers mock close."}], "attributes": [{"name": "ws", "description": "Optional WebSocket object managing the connection."}, {"name": "listeners", "description": "Record of event names mapped to arrays of listener functions."}, {"name": "url", "description": "WebSocket server URL."}, {"name": "mock", "description": "Boolean indicating whether mock mode is active."}]}], "methods": ["connect", "on", "send", "close", "emit"], "calls": ["JSON.parse", "setTimeout", "this.emit"], "search-terms": ["WebSocket client", "mock mode", "connection handling", "event subscription", "message echo"], "state": 2, "file_id": 22, "knowledge_revision": 106, "git_revision": "5a657d512e631e8d95d49daab3dc818b8a28475c", "revision_history": [{"47": ""}, {"86": ""}, {"100": "5a657d512e631e8d95d49daab3dc818b8a28475c"}, {"104": "5a657d512e631e8d95d49daab3dc818b8a28475c"}, {"105": "5a657d512e631e8d95d49daab3dc818b8a28475c"}, {"106": "5a657d512e631e8d95d49daab3dc818b8a28475c"}], "ctags": [{"_type": "tag", "name": "Listener", "path": "/home/kavia/workspace/code-generation/online-assessment-and-interview-platform-1024-1034/online_test_frontend/src/api/ws.ts", "pattern": "/^type Listener = (data: MessageData) => void$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "MessageData", "path": "/home/kavia/workspace/code-generation/online-assessment-and-interview-platform-1024-1034/online_test_frontend/src/api/ws.ts", "pattern": "/^type MessageData = unknown$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "WSClient", "path": "/home/kavia/workspace/code-generation/online-assessment-and-interview-platform-1024-1034/online_test_frontend/src/api/ws.ts", "pattern": "/^export class WSClient {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/online-assessment-and-interview-platform-1024-1034/online_test_frontend/src/api/ws.ts", "pattern": "/^          const data = JSON.parse(String(ev.data)) as MessageData$/", "language": "TypeScript", "kind": "constant"}], "hash": "42bd8314a7beecc1228d4b29382f8bf7", "format-version": 4, "code-base-name": "online_test_frontend", "filename": "online_test_frontend/src/api/ws.ts"}